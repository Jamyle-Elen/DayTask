{% extends "index.html" %}
{% block title %}Métricas{% endblock %}
{% block content %}
{% load static %}
<section class="flex flex-col md:flex-row">
    <!-- sidebar -->
    {% include 'tasks/components/sidebar.html' %}
    <!-- Main content -->
    <main class="flex-grow bg-gray-50 ">

      
      {% if user.is_superuser %}
      <!-- Grid principal -->
      <div class="max-w-7xl mx-auto py-4">
          <h1 class="text-3xl font-bold mb-1">Métricas</h1>
          <p class="text-gray-600">Aqui você consegue acesso a dados sobre o uso da aplicação.</p>
      </div>
      <section class="mt-5 grid grid-rows-3 gap-6 max-w-7xl mx-auto">
        
          <!-- Linha 1: 3 colunas para rosquinhas -->
          <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 justify-center">
            <div class="bg-white rounded shadow p-4 flex flex-col justify-center items-center h-64 w-full">
              {% include 'metrics/components/chart_circle_base.html' with canvas_id='donutChart1' chart_title='Gênero' chart_labels=labels_gender chart_values=values_gender %}
            </div>
            <div class="bg-white rounded shadow p-4 flex flex-col justify-center items-center h-64 w-full">
              {% include 'metrics/components/chart_circle_base.html' with canvas_id='donutChart2' chart_title='Usuários cadastrados por dia' chart_labels=labels_gender chart_values=values_gender %}
            </div>
            <div class="bg-white rounded shadow p-4 flex flex-col justify-center items-center h-64 w-full">
              {% include 'metrics/components/chart_circle_base.html' with canvas_id='donutChart3' chart_title='Usuários cadastrados por dia' chart_labels=labels_gender chart_values=values_gender %}
            </div>
          </div>

          <!-- Linha 2: 2 colunas para gráfico de barras -->
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
            <div class="bg-white rounded shadow p-4 h-64 w-full flex flex-col justify-center items-center">
              {% include 'metrics/components/chart_bar_base.html' with canvas_id='barChart1' chart_title='Usuários cadastrados por estado' chart_labels=labels_state chart_values=values_state %}
            </div>
            <div class="bg-white rounded shadow p-4 h-64 w-full flex flex-col justify-center items-center">
              {% include 'metrics/components/chart_bar_base.html' with canvas_id='barChart2' chart_title='Usuários cadastrados por cidade' chart_labels=labels_city chart_values=values_city %}
            </div>
          </div>

          <!-- Linha 3: 2 colunas para outros dados -->
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
            <div class="bg-gray-50 rounded-lg shadow-md p-6 h-64 w-full flex flex-col justify-center items-center text-gray-500 text-xl font-semibold select-none
                        hover:bg-gray-100 transition-colors duration-300 cursor-default">
              Em breve
            </div>
            <div class="bg-gray-50 rounded-lg shadow-md p-6 h-64 w-full flex flex-col justify-center items-center text-gray-500 text-xl font-semibold select-none
                        hover:bg-gray-100 transition-colors duration-300 cursor-default">
              Em breve
            </div>
          </div>

        </section>
        {% endif %}
    </main>
</section>
{% endblock %}